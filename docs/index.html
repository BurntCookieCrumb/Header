<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>PlottI: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PlottI
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">PlottI Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>PlottI - Plotting Interface for easy plotting of your data.</p>
<h1><a class="anchor" id="Canvasses"></a>
Canvasses</h1>
<p>For your perfect plot you first need a Canvas, that will display your beautiful data.</p>
<p>The (virtual) base class <a class="el" href="classPlot.html" title="Base class for all plotting functionality. ">Plot</a> includes most basic plotting functionalities. It provides a canvas and a default main pad, as well as basic set up variables such as canvas dimensions. For your very own plot you should one of the provided derived classes that implement one type of plot, e.g. a simple <a class="el" href="classSquarePlot.html" title="Class for a simple square-format plot. ">SquarePlot</a> or a <a class="el" href="classSingleRatioPlot.html" title="Class for a rectangle plot with the distributions in the upper pad and the ratios in the lower pad...">SingleRatioPlot</a>, or derive your own class. The basic dimensions and offsets are already predefined but can be changed manually with the corresponding methods. You create a canvas by calling the corresponding constructor with one or more TObjArrays containing the objects you want to plot and the corresponding axis titles. After the construction you can adjust your canvas or histogram settings (cf. section <a class="el" href="index.html#cSettings">Settings for Canvasses</a>) and plot everything with the Draw method (this will automatically save the canvas with the given name).</p>
<h1><a class="anchor" id="cSettings"></a>
Settings for Canvasses</h1>
<p>The following options are available for Canvasses:</p>
<ul>
<li>Setting canvas dimension, offsets and Margin</li>
<li>Setting a Mode that will determine text size* and style*</li>
<li>Setting the draw options*</li>
<li>Setting color-, marker-, or size arrays* used for Histogram customization (cf. section <a class="el" href="index.html#hSettings">Settings for Histograms</a>)</li>
<li>Setting the Ranges of the different axis</li>
</ul>
<p>Settings marked with * are static and will be used for all following canvasses (in your macro) as well until they are manually changed.</p>
<h2><a class="anchor" id="opt"></a>
Draw Options</h2>
<p>The draw options for your plottable objects can be set in various ways via the SetOptions function:</p>
<ul>
<li>using only one single option (provided as a std::string) that will be used for all objects</li>
<li>using a std::vector of std::strings to provide a different option for every object, similar to colors and markers (cf. section <a class="el" href="index.html#hSettings">Settings for Histograms</a>)</li>
<li>using one std::strings containing options (divided by spaces) and one std::strings containing the positions for which the options will be applied (also divided by spaces). Optionally you can also provide an offset that will be added to each given position.</li>
</ul>
<p>If you only want to manipulate one option at a time, you can do so via the SetOption function:</p>
<ul>
<li>using one std::string containing one option and one std::string containing the position where this option should be applied.</li>
</ul>
<p>If you don't manually set any options the default option "SAME" will be used.</p>
<h1><a class="anchor" id="hSettings"></a>
Settings for Histograms</h1>
<p>You can choose the style and colors of the plotted objects by either calling the Set&lt;Object&gt;Properties method on each histogram beforehand or set arrays containing these settings that will be used for all plots (until they are changed) by calling SetStyle. You can set an offset for the ratio markers, meaning for offset = 2 the first ratio marker will have the properties defined by the third array entry. The default offset is one, assuming that the ratio is to the first histogram in the array then the colors will correspond to those used in the main plot. In the case that some of your style arrays are empty or don't contain enough elements, default settings for the markers and lines will be used: marker size and line width 2., line style 1 (straight line), marker style kFullCircle and marker color kBlack. It is also possible to automatically pick colors from a color palette. To do this, use the SetPalette function to choose a palette and draw then set the histogram draw options to "PMC PLC PFC".</p>
<h1><a class="anchor" id="legends"></a>
Legends</h1>
<p>The <a class="el" href="classLegend.html" title="Class for additional legend functionality, mainly additional constructors. ">Legend</a> class can be used to automatically create a legend from data or text. You have the following options</p>
<ul>
<li>Generate <a class="el" href="classLegend.html" title="Class for additional legend functionality, mainly additional constructors. ">Legend</a> from<ul>
<li>a TObjArray with your plottable objects</li>
<li>a string containing the entry names like "entry number 1\n entry number 2\n"</li>
<li>and a string containing the display options like "lp lp"</li>
</ul>
</li>
<li>Create an informative <a class="el" href="classLegend.html" title="Class for additional legend functionality, mainly additional constructors. ">Legend</a> containing just text without symbols from<ul>
<li>a string containing the information to be displayed (entries) like "entry number 1\n entry number 2\n"</li>
<li>the number of entries</li>
</ul>
</li>
<li>Create a legend with dummy markers from<ul>
<li>a string containing the marker options like "23 23 23\n 24 24 24\n"</li>
<li>a string containing the entry names like "entry number 1\n entry number 2\n"</li>
<li>a string containing the options like "lp p"</li>
<li>the number of entries</li>
</ul>
</li>
<li>Copy an already existing legend</li>
</ul>
<dl class="section remark"><dt>Remarks</dt><dd>Unfortunately it is not possible for the second option to use the corresponding enumerators like kBlack for the colors and such, but the actual number has to be used. It is however possible to use functions like Format to print the value of kBlack into a string and then use this string.</dd></dl>
<h1><a class="anchor" id="example"></a>
Example Code</h1>
<p>The following example will demonstrate the basic syntax of the interface. Assume you have two histograms called black and white and a ratio called grey. </p>
<pre class="fragment">    TH1D* black = new TH1D("black", "", 100, -3, 3);
    black-&gt;Sumw2();
    black-&gt;FillRandom("gaus", 10000);

    TH1D* white = new TH1D("white", "", 100, -3, 3);
    white-&gt;Sumw2();
    white-&gt;FillRandom("gaus", 10000);

    TH1D* grey = (TH1D*)black-&gt;Clone("grey");
    grey-&gt;Divide(white);
</pre><p>First create two object arrays for the main plot and the ratio. </p>
<pre class="fragment">     TObjArray* main = new TObjArray();
     main-&gt;Add(black);
     main-&gt;Add(white);

     TObjArray* ratio = new TObjArray();
     ratio-&gt;Add(grey);
</pre><p>Now we generate legends for this plot: </p>
<pre class="fragment">     Legend* l = new Legend(main, "Black Histo\n White Histo\n", "lp lp", "", "l");
     Legend* ll = new Legend(l, "ll"); //Copy first legend so that we can place it seperately

     TString info = TString("Black and White Histogram\n");
     info.Append("Example\n");
     TLegend* lInfo =  new Legend(info.Data(), 2);
     main-&gt;Add(lInfo);
</pre><p>Then we define marker colors and styles. The ones for the ratios will be added after the ones for the main pad. </p>
<pre class="fragment">     vector&lt;Color_t&gt; colors = {kBlack, kBlack, kBlack+3};
     vector&lt;Style_t&gt; markers = {kFullCircle, kOpenCircle, kFullCircle};
     vector&lt;Size_t&gt;  sizes = {2., 2., 2.};
</pre><p>Adjusting the legend position: </p>
<pre class="fragment">     Legend::SetPosition(lInfo, 0.2, 0.3, 0.85, 0.75); // static function
     Legend::SetPosition(l, 0.43, 0.6, 0.2, 0.32);
     ll-&gt;SetPosition(0.43, 0.6, 0.05, 0.22); // non-static function
</pre><p>And finally create the Canvasses: </p>
<pre class="fragment">     SquarePlot square = SquarePlot(main, "x", "count");
     square.SetStyle(colors, markers, sizes);
     square.SetMode(Plot::Presentation);
     square.SetRanges(3, -3, 400, 0);
     square.Draw(TString("Square.pdf"));

     main-&gt;AddBefore(lInfo, ll); // replace l in main with ll

     SingleRatioPlot rat = SingleRatioPlot(main, ratio, "x", "count", "ratio");
     rat.SetOffset(2); // determines where the ratio entries start in the style arrays
     rat.SetRanges(3, -3, 400, -10, 3.2, 0.5);
     rat.Draw(TString("Ratio.pdf"));
</pre><p>Results:</p>
<div class="image">
<img src="Square.png" alt="Square.png"/>
<div class="caption">
Square Plot</div></div>
 <div class="image">
<img src="Ratio.png" alt="Ratio.png"/>
<div class="caption">
Ratio Plot</div></div>
<h1><a class="anchor" id="Additional"></a>
Functionality</h1>
<p>The following additional functionalities are currently available (in the file <a class="el" href="functionality_8h.html">functionality.h</a>):</p>
<ul>
<li>GetXfirstFilledBin: Finds the first bin from the left with content &gt; 0, if all bins (except last) are empty 0 is returned</li>
<li>GetXlastFilledBin: Finds the first bin from the right with content &gt; 0, if all bins (except first) are empty last bin is returned</li>
<li>CleanUpHistogram: Sets bin contents of bins with too large uncertainties to zero, for specifics please see documentation.</li>
</ul>
<h1><a class="anchor" id="colors"></a>
Colors</h1>
<p>Every seperately usable color (namely when you aren't using the palette option) is collected in the <a href="https://root.cern/doc/master/classTColorWheel.html">TColorWheel</a>. Since the colors are grouped by hue and each segment vary only in their brightness and intensity, I feel that you are supposed to (or at least try) to only use colors with the same modifier in one plot. I therefore rearranged the colors in a way, that you can see all the colors with the same modifier in a palette like way.</p>
<div class="image">
<img src="mix.png" alt="mix.png"/>
<div class="caption">
Mixed Colors</div></div>
 <div class="image">
<img src="bas.png" alt="bas.png"/>
<div class="caption">
Base Colors</div></div>
 </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
